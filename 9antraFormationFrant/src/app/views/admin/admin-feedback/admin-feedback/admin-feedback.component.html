<main class="gx-5 pt-3">
  <div class="d-lg-none d-md-block"><br /><br /><br /></div>
  <div class="pagetitle">
    <h1>Feedback</h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item active">Dashboard</li>
      </ol>
    </nav>
  </div>
  <!-- End Page Title -->

  <!-- Feedback section -->
  <div class="container">
    <div class="row">
      <li></li>
      <div class="col-lg-4 col-md-6" *ngFor="let i of tabFeedback">
        <div class="card shadow-sm mb-4">
          <div class="row mt-4 mx-2">
            <a class="nav-profile d-flex align-items-center">
              <img
                src="/assets/Documents/{{ i.user.image }}"
                alt="Profile"
                width="50px"
                height="50px"
                class="rounded-circle"
              />
              <span class="ps-4 fw-bold"
                >{{ i.user.firstName }} {{ i.user.lastName }}</span
              >
              <span class="ps-4">
                <div class="filter">
                  <button
                    class="icon custom-icon-position"
                    href="#"
                    data-bs-toggle="dropdown"
                    style="border: none; background-color: #ffffff00"
                  >
                    <i class="bi bi-three-dots-vertical"></i>
                  </button>
                  <ul
                    class="dropdown-menu dropdown-menu-end dropdown-menu-arrow"
                  >
                    <li class="dropdown-header text-start"></li>

                    <li *ngIf="i.posted == true">
                      <button
                        (click)="updateFeedback(i.id)"
                        class="dropdown-item"
                        href="#"
                      >
                        <span><i class="bi bi-eye me-3"></i> </span>Unpublich
                      </button>
                    </li>
                    <li *ngIf="i.posted == false">
                      <button
                        (click)="updateFeedback(i.id)"
                        class="dropdown-item"
                        href="#"
                      >
                        <span><i class="bi bi-eye me-3"></i> </span>Publich
                      </button>
                    </li>

                    <li>
                      <button
                        class="dropdown-item text-danger"
                        (click)="deleteFeedback(i.id)"
                      >
                        <span
                          ><i class="fa-regular fa-trash-can me-3"></i> </span
                        >Delete
                      </button>
                    </li>
                  </ul>
                </div></span
              >
            </a>

            <p class="mt-3 text-secondary">Add in {{ i.createdAt | date }}</p>
            <p class="mt-1 text-secondary">
              Rating: <span [innerHTML]="generateStarHTML(i.rating)"></span>
            </p>
          </div>

          <div class="card-body comment">
            <p class="card-text">{{ i.comment }}</p>
          </div>
        </div>
      </div>
      <div *ngIf="tabFeedback?.length == 0" class="text-center mt-3 d-flex justify-content-center">
        <div class="nodata">
          <img src="../../../../../assets/img/nodata.png" width="250px"><br>
          <p style="overflow: hidden;">There are no feedbacks available.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- End Feedback section -->
</main>
<!-- End #main -->
